{"code":"!function(n){var e={};function t(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var o in n)t.d(i,o,function(e){return n[e]}.bind(null,o));return i},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,\"a\",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p=\"\",t(t.s=1)}([function(n,e,t){var i=t(2),o=t(3);\"string\"==typeof(o=o.__esModule?o.default:o)&&(o=[[n.i,o,\"\"]]);var r={insert:\"head\",singleton:!1};i(o,r);n.exports=o.locals||{}},function(n,e,t){n.exports=t(5)},function(n,e,t){\"use strict\";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),a=[];function s(n){for(var e=-1,t=0;t<a.length;t++)if(a[t].identifier===n){e=t;break}return e}function d(n,e){for(var t={},i=[],o=0;o<n.length;o++){var r=n[o],d=e.base?r[0]+e.base:r[0],c=t[d]||0,l=\"\".concat(d,\" \").concat(c);t[d]=c+1;var u=s(l),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(a[u].references++,a[u].updater(p)):a.push({identifier:l,updater:m(p,e),references:1}),i.push(l)}return i}function c(n){var e=document.createElement(\"style\"),i=n.attributes||{};if(void 0===i.nonce){var o=t.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(n){e.setAttribute(n,i[n])})),\"function\"==typeof n.insert)n.insert(e);else{var a=r(n.insert||\"head\");if(!a)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");a.appendChild(e)}return e}var l,u=(l=[],function(n,e){return l[n]=e,l.filter(Boolean).join(\"\\n\")});function p(n,e,t,i){var o=t?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(n.styleSheet)n.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),a=n.childNodes;a[e]&&n.removeChild(a[e]),a.length?n.insertBefore(r,a[e]):n.appendChild(r)}}function f(n,e,t){var i=t.css,o=t.media,r=t.sourceMap;if(o?n.setAttribute(\"media\",o):n.removeAttribute(\"media\"),r&&btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),\" */\")),n.styleSheet)n.styleSheet.cssText=i;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(i))}}var h=null,w=0;function m(n,e){var t,i,o;if(e.singleton){var r=w++;t=h||(h=c(e)),i=p.bind(null,t,r,!1),o=p.bind(null,t,r,!0)}else t=c(e),i=f.bind(null,t,e),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return i(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;i(n=e)}else o()}}n.exports=function(n,e){(e=e||{}).singleton||\"boolean\"==typeof e.singleton||(e.singleton=o());var t=d(n=n||[],e);return function(n){if(n=n||[],\"[object Array]\"===Object.prototype.toString.call(n)){for(var i=0;i<t.length;i++){var o=s(t[i]);a[o].references--}for(var r=d(n,e),c=0;c<t.length;c++){var l=s(t[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}t=r}}}},function(n,e,t){(e=t(4)(!1)).push([n.i,\"body {\\n  background-color: #EFF1F2;\\n  font-family: Lato, Arial;\\n  color: #343A40;\\n}\\n\\nh3 {\\n  font-size: 22px;\\n  margin-bottom: 12px;\\n}\\n\\np {\\n  margin-bottom: 0px;\\n  font-size: 22px;\\n}\\n\\n.container {\\n  padding-top: 10rem; \\n  padding-bottom: 10rem;\\n}\\n\\n/* Card Header */\\n#time-now {\\n  float: right;\\n  font-size: 22px;\\n}\\n\\n/* Card Body */\\n.main-card {\\n  width: 600px;\\n  box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.2);\\n}\\n\\n.blue-text {\\n  color: #1496BB;\\n}\\n\\n.degree-active {\\n  font-size: 24px;\\n}\\n\\n.degree-inactive {\\n  font-size: 20px;\\n  color: #1496BB;\\n  cursor: pointer;\\n}\\n\\n.degree {\\n  display: inline-block;\\n  vertical-align: top;\\n  font-size: 24px;\\n  margin-top: 12px;\\n}\\n\\n#desc-now {\\n  text-transform: capitalize;\\n  font-size: 20px;\\n}\\n\\n#icon-now {\\n  font-size: 72px;\\n  margin-right: 12px;\\n  float: right;\\n  line-height: 86px;\\n}\\n\\n#temp-now {\\n  display: inline;\\n  font-size: 72px;\\n}\\n\\n.data-tables {\\n  font-size: 20px;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\ntr.spaceUnder>td {\\n  padding-bottom: 1em;\\n}\\n\\n/* Forecast */\\n#first-day {\\n  border-bottom-left-radius: 3px;\\n}\\n\\n#forth-day {\\n  border-bottom-right-radius: 3px;\\n}\\n\\n.forecast-col {\\n  color: white;\\n  padding: 12px;\\n}\\n\\n.card-img-bottom {\\n  background-color: #343A40;\\n}\\n\\n#attribution-text {\\n  font-size: 14px;\\n}\\n\\n/* Padding styles */\\n.p-6 { padding: 6px; }\\n.pr-6 { padding-right: 6px; }\\n.pl-6 { padding-left: 6px; }\\n.py-24 { padding-bottom: 24px; padding-top: 24px; }\\n\\n/* Footer */\\nhtml, body {\\n  height: 100%;\\n} \\n\\n#wrapper{\\n  min-height:100%;\\n  position:relative;\\n} \\n\\nfooter {\\n  width: 100%;\\n  height: 42px;\\n  position: absolute;\\n  bottom: 0;\\n  text-align: center;\\n  background-color: rgba(0, 0, 0, 0.45);\\n  font-family: Lato, sans-serif;\\n  font-size: 15px;\\n} \\n\\nfooter a {\\n  line-height: 42px;\\n  color: white;\\n  text-decoration: none;\\n} \\n\\nfooter a:focus, footer a:hover, footer a:visited {\\n  text-decoration: none;\\n  color: white;\\n} \\n\\nfooter span {\\n  vertical-align: middle;\\n} \\n\\n.i-big {\\n  vertical-align: middle;\\n  font-size: 18px;\\n}\",\"\"]),n.exports=e},function(n,e,t){\"use strict\";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=function(n,e){var t=n[1]||\"\",i=n[3];if(!i)return t;if(e&&\"function\"==typeof btoa){var o=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),d=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(s),\"/*# \".concat(d,\" */\")),r=i.sources.map((function(n){return\"/*# sourceURL=\".concat(i.sourceRoot||\"\").concat(n,\" */\")}));return[t].concat(r).concat([o]).join(\"\\n\")}var a,s,d;return[t].join(\"\\n\")}(e,n);return e[2]?\"@media \".concat(e[2],\" {\").concat(t,\"}\"):t})).join(\"\")},e.i=function(n,t,i){\"string\"==typeof n&&(n=[[null,n,\"\"]]);var o={};if(i)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<n.length;s++){var d=[].concat(n[s]);i&&o[d[0]]||(t&&(d[2]?d[2]=\"\".concat(t,\" and \").concat(d[2]):d[2]=t),e.push(d))}},e}},function(n,e,t){\"use strict\";t.r(e);var i=t(0),o=t.n(i);var r=\"b10e79705c099860a980640a091a6fcf\";const a=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];let s={city:\"New York\",cloudiness:50,country:\"US\",desc:\"scattered clouds\",humidity:50,sunrise:1519626034,sunset:1519664697,temp:32,type:\"03d\",wind:10};const d={tempNow:$(\"#temp-now\"),iconNow:$(\"#icon-now\"),descNow:$(\"#desc-now\"),cityNow:$(\"#city-now\"),windNow:$(\"#wind-now\"),timeNow:$(\"#time-now\"),humidityNow:$(\"#humidity-now\"),cloudinessNow:$(\"#cloudiness-now\"),sunriseNow:$(\"#sunrise-now\"),sunsetNow:$(\"#sunset-now\")};function c(n){var e,t=n?p(s.temp).toFixed(0):s.temp.toFixed(0),i=n?(e=s.wind,1.609344*e).toFixed(0)+\" km/h\":s.wind.toFixed(0)+\" mph\",o=new Date,r=a[o.getDay()]+\", \"+u(o,n),c=u(new Date(1e3*s.sunrise),n),l=u(new Date(1e3*s.sunset),n);d.tempNow.text(t),d.iconNow.addClass(function(n){switch(n){case\"01d\":return\"wi-day-sunny\";case\"02d\":return\"wi-night-cloudy\";case\"03d\":case\"04d\":return\"wi-cloudy\";case\"09d\":return\"wi-day-showers\";case\"10d\":return\"wi-day-rain\";case\"11d\":return\"wi-thunderstorm\";case\"13d\":return\"wi-snow\";case\"50d\":return\"wi-fog\";case\"01n\":return\"wi-night-clear\";case\"02n\":return\"wi-day-cloudy\";case\"03n\":case\"04n\":return\"wi-cloudy\";case\"09n\":return\"wi-night-showers\";case\"10n\":return\"wi-night-rain\";case\"11n\":return\"wi-thunderstorm\";case\"13n\":return\"wi-snow\";case\"50n\":return\"wi-fog\"}}(s.type)),d.descNow.text(s.desc),d.cityNow.text(s.city),d.windNow.text(i),d.timeNow.text(r),d.humidityNow.text(s.humidity),d.cloudinessNow.text(s.cloudiness),d.sunriseNow.text(c),d.sunsetNow.text(l)}function l(n,e,t,i){var o=i?p(t[e].min).toFixed(0):t[e].min.toFixed(0),r=i?p(t[e].max).toFixed(0):t[e].max.toFixed(0);$(n+\" > h3\").text(t[e].weekday),$(n+\" span\").eq(0).text(r),$(n+\" span\").eq(1).text(o)}function u(n,e){var t,i;return e?(t=n.getHours())+\":\"+(n.getMinutes()>=10?n.getMinutes():\"0\"+n.getMinutes()):(i=\"AM\",(t=n.getHours())>=12&&(t>12&&(t-=12),i=\"PM\"),t+\":\"+(n.getMinutes()>=10?n.getMinutes():\"0\"+n.getMinutes())+\" \"+i)}function p(n){return 5*(n-32)/9}var f={setCurrentWeather:function(n,e){s=n,c(e)},setForecast:function(n,e){this.forecast=n,l(\"#first-day\",0,n,e),l(\"#second-day\",1,n,e),l(\"#third-day\",2,n,e),l(\"#forth-day\",3,n,e)},updateWeather:c};const h=[\"SUN\",\"MON\",\"TUE\",\"WED\",\"THU\",\"FRI\",\"SAT\"];function w(n,e){0===n.status?alert(\"Network error. Check your connection.\"):404==n.status?alert(\"Requested page not found [404].\"):500==n.status?alert(\"Internal Server Error [500].\"):alert(\"Error [\"+n.status+\"].\")}var m={fetchCurrentWeather:function(n,e,t){let i=null;$.getJSON(function(n,e){return\"https://api.openweathermap.org/data/2.5/weather?lat=\"+n+\"&lon=\"+e+\"&units=imperial&APPID=\"+r}(n,e),(function(n){i={city:n.name,temp:n.main.temp,desc:n.weather[0].description,type:n.weather[0].icon,wind:n.wind.speed,humidity:n.main.humidity,cloudiness:n.clouds.all,sunrise:n.sys.sunrise,sunset:n.sys.sunset,country:n.sys.country}})).done(()=>f.setCurrentWeather(i,t)).fail((n,e)=>w(jqXHR,e))},fetchForecast:function(n,e,t){let i=[];$.getJSON(function(n,e){return\"https://api.openweathermap.org/data/2.5/forecast?lat=\"+n+\"&lon=\"+e+\"&units=imperial&APPID=\"+r}(n,e),(function(n){var e,t=\"\",o=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=(new Date).getDay();n.list.forEach((function(n){e=new Date(1e3*n.dt),a!=e.getDay()&&(t!=h[e.getDay()]&&\"\"!=t&&(i.push({weekday:t,min:o,max:r}),o=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY),n.main.temp<o&&(o=n.main.temp),n.main.temp>r&&(r=n.main.temp),t=h[e.getDay()])})),i.length<4&&i.push({weekday:t,min:o,max:r})})).done(()=>f.setForecast(i,t)).fail((n,e)=>w(jqXHR,e))}};let g=!0;class v extends HTMLElement{constructor(){super(),this.attachShadow({mode:\"open\"}),this.initialized=!1}connectedCallback(){var n=document.createElement(\"style\");n.innerHTML=o.a,this.shadowRoot.prepend(n)}initialize(){if(0!=this.initialized)throw new Error(\"The widget was already initialized!\");this._addHTMLTemplate(),this._render(),this.initialized=!0,connectedCallback()}start(){if(1!=this.initialized)throw new Error(\"The widget was not initialized!\");this.shadowRoot.getElementById(\"weather-widget-inline\").classList.remove(\"hidden\")}stop(){this._activeScreenId&&this.shadowRoot.getElementById(\"weather-widget-inline\").classList.add(\"hidden\")}destroy(){var n=this.shadowRoot.getElementById(\"weather-widget-inline\");this.shadowRoot.removeChild(n),this.initialized=!1}_addHTMLTemplate(){var n=(new DOMParser).parseFromString('<div id=\"wrapper\">\\n    <div class=\"container\">\\n      <div class=\"card mx-auto mb-3 main-card\">\\n\\n        \\x3c!-- HEADER --\\x3e\\n        <h4 class=\"card-header\">\\n          <span id=\"city-now\"></span>\\n          <span id=\"time-now\"></span>\\n        </h4>\\n\\n        \\x3c!-- TODAYS DATA --\\x3e\\n        <div class=\"card-body\">\\n          <div class=\"row\">\\n            <div class=\"col-7 text-center\">\\n              <p id=\"desc-now\"></p>\\n              <div class=\"row py-24 justify-content-center\">\\n                <div class=\"col-auto pr-6\">\\n                  <i id=\"icon-now\" class=\"wi wi-day-sunny\"></i>\\n                </div>\\n                <div class=\"col-auto pl-6\">\\n                  <p id=\"temp-now\"></p>\\n                  <p id=\"celsius-now\" class=\"degree degree-active\">°C</p>\\n                  <p class=\"degree mx-1\">|</p>\\n                  <p id=\"fahrenheit-now\" class=\"degree degree-inactive\">°F</p>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"col-5 data-tables\">\\n              <table class=\"text-center\">\\n                <tr>\\n                  <td><i class=\"wi wi-strong-wind p-6\"></i></td>\\n                  <td class=\"text-left\">Wind: <span id=\"wind-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-humidity p-6\"></i></td>\\n                  <td class=\"text-left\">Humidity: <span id=\"humidity-now\"></span> %</td>\\n                </tr>\\n                <tr class=\"spaceUnder\">\\n                  <td><i class=\"wi wi-cloudy p-6\"></i></td>\\n                  <td class=\"text-left\">Cloudiness: <span id=\"cloudiness-now\"></span> %</td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunrise p-6\"></i></td>\\n                  <td class=\"text-left\">Sunrise: <span id=\"sunrise-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunset p-6\"></i></td>\\n                  <td class=\"text-left\">Sunset: <span id=\"sunset-now\"></span></td>\\n                </tr>\\n              </table>\\n            </div>\\n          </div>\\n        </div>\\n\\n        \\x3c!-- FORECAST --\\x3e\\n        <div class=\"row card-img-bottom ml-0 text-center\">\\n          <div id=\"first-day\" class=\"col forecast-col\">\\n            <h3>MON</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"second-day\" class=\"col forecast-col\">\\n            <h3>TUE</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"third-day\" class=\"col forecast-col\">\\n            <h3>WED</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"forth-day\" class=\"col forecast-col\">\\n            <h3>FRI</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n\\n  </div>',\"text/html\");this.shadowRoot.appendChild(n.body.firstChild)}_render(){console.log(\"render\"),f.updateWeather(g),navigator.geolocation?navigator.geolocation.getCurrentPosition(this.success,this.error):this.error(),$(\"#fahrenheit-now, #celsius-now\").on(\"click\",(function(){$(this).hasClass(\"degree-inactive\")&&($(this).removeClass(\"degree-inactive\"),$(\".degree-active\").removeClass(\"degree-active\").addClass(\"degree-inactive\"),$(this).addClass(\"degree-active\"),g=!$(this).is(\"#fahrenheit-now\"),f.updateWeather(g))}))}error(){alert(\"Sorry, no position available.\")}success(n){this.handleRequest(n.coords.latitude,n.coords.longitude)}handleRequest(n,e){m.fetchCurrentWeather(n,e,g),m.fetchForecast(n,e,g)}}$(document).ready((function(){customElements.define(\"weather-widget-inline\",v)}))}]);","extractedComments":[]}