{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t){throw new Error(\"Module parse failed: Unexpected token (1:5)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n> body {\\n|   background-color: #EFF1F2;\\n|   font-family: Lato, Arial;\")},function(e,t,n){e.exports=n(2)},function(e,t,n){\"use strict\";n.r(t);var i=n(0),s=n.n(i);var a=\"b10e79705c099860a980640a091a6fcf\";const r=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];let o={city:\"New York\",cloudiness:50,country:\"US\",desc:\"scattered clouds\",humidity:50,sunrise:1519626034,sunset:1519664697,temp:32,type:\"03d\",wind:10};const d={tempNow:$(\"#temp-now\"),iconNow:$(\"#icon-now\"),descNow:$(\"#desc-now\"),cityNow:$(\"#city-now\"),windNow:$(\"#wind-now\"),timeNow:$(\"#time-now\"),humidityNow:$(\"#humidity-now\"),cloudinessNow:$(\"#cloudiness-now\"),sunriseNow:$(\"#sunrise-now\"),sunsetNow:$(\"#sunset-now\")};function c(e){var t,n=e?w(o.temp).toFixed(0):o.temp.toFixed(0),i=e?(t=o.wind,1.609344*t).toFixed(0)+\" km/h\":o.wind.toFixed(0)+\" mph\",s=new Date,a=r[s.getDay()]+\", \"+l(s,e),c=l(new Date(1e3*o.sunrise),e),u=l(new Date(1e3*o.sunset),e);d.tempNow.text(n),d.iconNow.addClass(function(e){switch(e){case\"01d\":return\"wi-day-sunny\";case\"02d\":return\"wi-night-cloudy\";case\"03d\":case\"04d\":return\"wi-cloudy\";case\"09d\":return\"wi-day-showers\";case\"10d\":return\"wi-day-rain\";case\"11d\":return\"wi-thunderstorm\";case\"13d\":return\"wi-snow\";case\"50d\":return\"wi-fog\";case\"01n\":return\"wi-night-clear\";case\"02n\":return\"wi-day-cloudy\";case\"03n\":case\"04n\":return\"wi-cloudy\";case\"09n\":return\"wi-night-showers\";case\"10n\":return\"wi-night-rain\";case\"11n\":return\"wi-thunderstorm\";case\"13n\":return\"wi-snow\";case\"50n\":return\"wi-fog\"}}(o.type)),d.descNow.text(o.desc),d.cityNow.text(o.city),d.windNow.text(i),d.timeNow.text(a),d.humidityNow.text(o.humidity),d.cloudinessNow.text(o.cloudiness),d.sunriseNow.text(c),d.sunsetNow.text(u)}function u(e,t,n,i){var s=i?w(n[t].min).toFixed(0):n[t].min.toFixed(0),a=i?w(n[t].max).toFixed(0):n[t].max.toFixed(0);$(e+\" > h3\").text(n[t].weekday),$(e+\" span\").eq(0).text(a),$(e+\" span\").eq(1).text(s)}function l(e,t){var n,i;return t?(n=e.getHours())+\":\"+(e.getMinutes()>=10?e.getMinutes():\"0\"+e.getMinutes()):(i=\"AM\",(n=e.getHours())>=12&&(n>12&&(n-=12),i=\"PM\"),n+\":\"+(e.getMinutes()>=10?e.getMinutes():\"0\"+e.getMinutes())+\" \"+i)}function w(e){return 5*(e-32)/9}var p={setCurrentWeather:function(e,t){o=e,c(t)},setForecast:function(e,t){this.forecast=e,u(\"#first-day\",0,e,t),u(\"#second-day\",1,e,t),u(\"#third-day\",2,e,t),u(\"#forth-day\",3,e,t)},updateWeather:c};const h=[\"SUN\",\"MON\",\"TUE\",\"WED\",\"THU\",\"FRI\",\"SAT\"];function y(e,t){0===e.status?alert(\"Network error. Check your connection.\"):404==e.status?alert(\"Requested page not found [404].\"):500==e.status?alert(\"Internal Server Error [500].\"):alert(\"Error [\"+e.status+\"].\")}var m={fetchCurrentWeather:function(e,t,n){let i=null;$.getJSON(function(e,t){return\"https://api.openweathermap.org/data/2.5/weather?lat=\"+e+\"&lon=\"+t+\"&units=imperial&APPID=\"+a}(e,t),(function(e){i={city:e.name,temp:e.main.temp,desc:e.weather[0].description,type:e.weather[0].icon,wind:e.wind.speed,humidity:e.main.humidity,cloudiness:e.clouds.all,sunrise:e.sys.sunrise,sunset:e.sys.sunset,country:e.sys.country}})).done(()=>p.setCurrentWeather(i,n)).fail((e,t)=>y(jqXHR,t))},fetchForecast:function(e,t,n){let i=[];$.getJSON(function(e,t){return\"https://api.openweathermap.org/data/2.5/forecast?lat=\"+e+\"&lon=\"+t+\"&units=imperial&APPID=\"+a}(e,t),(function(e){var t,n=\"\",s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=(new Date).getDay();e.list.forEach((function(e){t=new Date(1e3*e.dt),r!=t.getDay()&&(n!=h[t.getDay()]&&\"\"!=n&&(i.push({weekday:n,min:s,max:a}),s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY),e.main.temp<s&&(s=e.main.temp),e.main.temp>a&&(a=e.main.temp),n=h[t.getDay()])})),i.length<4&&i.push({weekday:n,min:s,max:a})})).done(()=>p.setForecast(i,n)).fail((e,t)=>y(jqXHR,t))}};let f=!0;class v extends HTMLElement{constructor(){super(),this.attachShadow({mode:\"open\"}),this.initialized=!1}connectedCallback(){var e=document.createElement(\"style\");e.innerHTML=s.a,this.shadowRoot.prepend(e)}initialize(){if(0!=this.initialized)throw new Error(\"The widget was already initialized!\");this._addHTMLTemplate(),this._render(),this.initialized=!0}start(){if(1!=this.initialized)throw new Error(\"The widget was not initialized!\");this.shadowRoot.getElementById(\"weather-widget-inline\").classList.remove(\"hidden\")}stop(){this._activeScreenId&&this.shadowRoot.getElementById(\"weather-widget-inline\").classList.add(\"hidden\")}destroy(){var e=this.shadowRoot.getElementById(\"weather-widget-inline\");this.shadowRoot.removeChild(e),this.initialized=!1}_addHTMLTemplate(){var e=(new DOMParser).parseFromString('<div id=\"wrapper\">\\n    <div class=\"container\">\\n      <div class=\"card mx-auto mb-3 main-card\">\\n\\n        \\x3c!-- HEADER --\\x3e\\n        <h4 class=\"card-header\">\\n          <span id=\"city-now\"></span>\\n          <span id=\"time-now\"></span>\\n        </h4>\\n\\n        \\x3c!-- TODAYS DATA --\\x3e\\n        <div class=\"card-body\">\\n          <div class=\"row\">\\n            <div class=\"col-7 text-center\">\\n              <p id=\"desc-now\"></p>\\n              <div class=\"row py-24 justify-content-center\">\\n                <div class=\"col-auto pr-6\">\\n                  <i id=\"icon-now\" class=\"wi wi-day-sunny\"></i>\\n                </div>\\n                <div class=\"col-auto pl-6\">\\n                  <p id=\"temp-now\"></p>\\n                  <p id=\"celsius-now\" class=\"degree degree-active\">°C</p>\\n                  <p class=\"degree mx-1\">|</p>\\n                  <p id=\"fahrenheit-now\" class=\"degree degree-inactive\">°F</p>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"col-5 data-tables\">\\n              <table class=\"text-center\">\\n                <tr>\\n                  <td><i class=\"wi wi-strong-wind p-6\"></i></td>\\n                  <td class=\"text-left\">Wind: <span id=\"wind-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-humidity p-6\"></i></td>\\n                  <td class=\"text-left\">Humidity: <span id=\"humidity-now\"></span> %</td>\\n                </tr>\\n                <tr class=\"spaceUnder\">\\n                  <td><i class=\"wi wi-cloudy p-6\"></i></td>\\n                  <td class=\"text-left\">Cloudiness: <span id=\"cloudiness-now\"></span> %</td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunrise p-6\"></i></td>\\n                  <td class=\"text-left\">Sunrise: <span id=\"sunrise-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunset p-6\"></i></td>\\n                  <td class=\"text-left\">Sunset: <span id=\"sunset-now\"></span></td>\\n                </tr>\\n              </table>\\n            </div>\\n          </div>\\n        </div>\\n\\n        \\x3c!-- FORECAST --\\x3e\\n        <div class=\"row card-img-bottom ml-0 text-center\">\\n          <div id=\"first-day\" class=\"col forecast-col\">\\n            <h3>MON</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"second-day\" class=\"col forecast-col\">\\n            <h3>TUE</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"third-day\" class=\"col forecast-col\">\\n            <h3>WED</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"forth-day\" class=\"col forecast-col\">\\n            <h3>FRI</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n\\n  </div>',\"text/html\");this.shadowRoot.appendChild(e.body.firstChild)}_render(){console.log(\"render\"),p.updateWeather(f),navigator.geolocation?navigator.geolocation.getCurrentPosition(this.success,this.error):this.error(),$(\"#fahrenheit-now, #celsius-now\").on(\"click\",(function(){$(this).hasClass(\"degree-inactive\")&&($(this).removeClass(\"degree-inactive\"),$(\".degree-active\").removeClass(\"degree-active\").addClass(\"degree-inactive\"),$(this).addClass(\"degree-active\"),f=!$(this).is(\"#fahrenheit-now\"),p.updateWeather(f))}))}error(){alert(\"Sorry, no position available.\")}success(e){this.handleRequest(e.coords.latitude,e.coords.longitude)}handleRequest(e,t){m.fetchCurrentWeather(e,t,f),m.fetchForecast(e,t,f)}}$(document).ready((function(){customElements.define(\"weather-widget-inline\",v)}))}]);","extractedComments":[]}