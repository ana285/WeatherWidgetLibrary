{"code":"!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){\"use strict\";t.r(n);var o=\"b10e79705c099860a980640a091a6fcf\";const i=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];let r={city:\"New York\",cloudiness:50,country:\"US\",desc:\"scattered clouds\",humidity:50,sunrise:1519626034,sunset:1519664697,temp:32,type:\"03d\",wind:10};function a(e){console.log(\"Update wether\");var n,t=e?l(r.temp).toFixed(0):r.temp.toFixed(0),o=e?(n=r.wind,1.609344*n).toFixed(0)+\" km/h\":r.wind.toFixed(0)+\" mph\",a=new Date,d=i[a.getDay()]+\", \"+s(a,e),c=s(new Date(1e3*r.sunrise),e),u=s(new Date(1e3*r.sunset),e);document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#temp-now\").innerHTML=t,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#icon-now\").className=function(e){switch(e){case\"01d\":return\"wi-day-sunny\";case\"02d\":return\"wi-night-cloudy\";case\"03d\":case\"04d\":return\"wi-cloudy\";case\"09d\":return\"wi-day-showers\";case\"10d\":return\"wi-day-rain\";case\"11d\":return\"wi-thunderstorm\";case\"13d\":return\"wi-snow\";case\"50d\":return\"wi-fog\";case\"01n\":return\"wi-night-clear\";case\"02n\":return\"wi-day-cloudy\";case\"03n\":case\"04n\":return\"wi-cloudy\";case\"09n\":return\"wi-night-showers\";case\"10n\":return\"wi-night-rain\";case\"11n\":return\"wi-thunderstorm\";case\"13n\":return\"wi-snow\";case\"50n\":return\"wi-fog\"}}(r.type),document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#desc-now\").innerHTML=r.desc,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#city-now\").innerHTML=r.city,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#wind-now\").innerHTML=o,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#time-now\").innerHTML=d,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#humidity-now\").innerHTML=r.humidity,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#cloudiness-now\").innerHTML=r.cloudiness,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#sunrise-now\").innerHTML=c,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#sunset-now\").innerHTML=u,console.log(document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#sunset-now\"))}function d(e,n,t,o){var i=o?l(t[n].min).toFixed(0):t[n].min.toFixed(0),r=o?l(t[n].max).toFixed(0):t[n].max.toFixed(0);document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(e+\" > h3\").innerHTML=t[n].weekday,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(e+\" #min\").innerHTML=r,document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(e+\" #max\").innerHTML=i}function s(e,n){var t,o;return n?(t=e.getHours())+\":\"+(e.getMinutes()>=10?e.getMinutes():\"0\"+e.getMinutes()):(o=\"AM\",(t=e.getHours())>=12&&(t>12&&(t-=12),o=\"PM\"),t+\":\"+(e.getMinutes()>=10?e.getMinutes():\"0\"+e.getMinutes())+\" \"+o)}function l(e){return 5*(e-32)/9}var c={setCurrentWeather:function(e,n){console.log(\"setCurrentWeather\",e),r=e,a(n)},setForecast:function(e,n){this.forecast=e,d(\"#first-day\",0,e,n),d(\"#second-day\",1,e,n),d(\"#third-day\",2,e,n),d(\"#forth-day\",3,e,n)},updateWeather:a};const u=[\"SUN\",\"MON\",\"TUE\",\"WED\",\"THU\",\"FRI\",\"SAT\"];function p(e,n){0===e.status?alert(\"Network error. Check your connection.\"):404==e.status?alert(\"Requested page not found [404].\"):500==e.status?alert(\"Internal Server Error [500].\"):alert(\"Error [\"+e.status+\"].\")}var w={fetchCurrentWeather:function(e,n,t){let i=null;console.log(\"fetch current weather\"),$.getJSON(function(e,n){return\"https://api.openweathermap.org/data/2.5/weather?lat=\"+e+\"&lon=\"+n+\"&units=imperial&APPID=\"+o}(e,n),(function(e){i={city:e.name,temp:e.main.temp,desc:e.weather[0].description,type:e.weather[0].icon,wind:e.wind.speed,humidity:e.main.humidity,cloudiness:e.clouds.all,sunrise:e.sys.sunrise,sunset:e.sys.sunset,country:e.sys.country}})).done(()=>c.setCurrentWeather(i,t)).fail((e,n)=>p(jqXHR,n))},fetchForecast:function(e,n,t){let i=[];$.getJSON(function(e,n){return\"https://api.openweathermap.org/data/2.5/forecast?lat=\"+e+\"&lon=\"+n+\"&units=imperial&APPID=\"+o}(e,n),(function(e){var n,t=\"\",o=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=(new Date).getDay();e.list.forEach((function(e){n=new Date(1e3*e.dt),a!=n.getDay()&&(t!=u[n.getDay()]&&\"\"!=t&&(i.push({weekday:t,min:o,max:r}),o=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY),e.main.temp<o&&(o=e.main.temp),e.main.temp>r&&(r=e.main.temp),t=u[n.getDay()])})),i.length<4&&i.push({weekday:t,min:o,max:r})})).done(()=>c.setForecast(i,t)).fail((e,n)=>p(jqXHR,n))}};let m=!0;class h extends HTMLElement{constructor(){super(),this.attachShadow({mode:\"open\"}),this.initialized=!1}connectedCallback(){var e=document.createElement(\"style\");e.innerHTML=\"body {\\n  background-color: #EFF1F2;\\n  font-family: Lato, Arial;\\n  color: #343A40;\\n}\\n\\nh3 {\\n  font-size: 22px;\\n  margin-bottom: 12px;\\n}\\n\\np {\\n  margin-bottom: 0px;\\n  font-size: 22px;\\n}\\n\\n/* Card Header */\\n#time-now {\\n  float: right;\\n  font-size: 22px;\\n}\\n\\n/* Card Body */\\n.main-card {\\n  box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.2);\\n}\\n\\n.blue-text {\\n  color: #1496BB;\\n}\\n\\n.degree-active {\\n  font-size: 24px;\\n}\\n\\n.degree-inactive {\\n  font-size: 20px;\\n  color: #1496BB;\\n  cursor: pointer;\\n}\\n\\n.degree {\\n  display: inline-block;\\n  vertical-align: top;\\n  font-size: 24px;\\n  margin-top: 12px;\\n}\\n\\n#desc-now {\\n  text-transform: capitalize;\\n  font-size: 20px;\\n}\\n\\n#icon-now {\\n  font-size: 72px;\\n  margin-right: 12px;\\n  float: right;\\n  line-height: 86px;\\n}\\n\\n#temp-now {\\n  display: inline;\\n  font-size: 72px;\\n}\\n\\n.data-tables {\\n  font-size: 20px;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\ntr.spaceUnder>td {\\n  padding-bottom: 1em;\\n}\\n\\n/* Forecast */\\n#first-day {\\n  border-bottom-left-radius: 3px;\\n}\\n\\n#forth-day {\\n  border-bottom-right-radius: 3px;\\n}\\n\\n.forecast-col {\\n  color: white;\\n  padding: 12px;\\n}\\n\\n.card-img-bottom {\\n  background-color: #343A40;\\n}\\n\\n#attribution-text {\\n  font-size: 14px;\\n}\\n\\n/* Padding styles */\\n.p-6 { padding: 6px; }\\n.pr-6 { padding-right: 6px; }\\n.pl-6 { padding-left: 6px; }\\n.py-24 { padding-bottom: 24px; padding-top: 24px; }\\n\\n/* Footer */\\nhtml, body {\\n  height: 100%;\\n} \\n\\n#weather-widget-inline{\\n  min-height:100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n} \\n\\nfooter {\\n  width: 100%;\\n  height: 42px;\\n  position: absolute;\\n  bottom: 0;\\n  text-align: center;\\n  background-color: rgba(0, 0, 0, 0.45);\\n  font-family: Lato, sans-serif;\\n  font-size: 15px;\\n} \\n\\nfooter a {\\n  line-height: 42px;\\n  color: white;\\n  text-decoration: none;\\n} \\n\\nfooter a:focus, footer a:hover, footer a:visited {\\n  text-decoration: none;\\n  color: white;\\n} \\n\\nfooter span {\\n  vertical-align: middle;\\n} \\n\\n.i-big {\\n  vertical-align: middle;\\n  font-size: 18px;\\n}\\n\\n/* Responsive: */\\n\\n@media only screen and (min-width: 640px) {\\n  .layout {\\n    display: flex;\\n  }\\n}\\n\\n@media only screen and (min-width: 500px) {\\n  h1 {\\n    font-size: 3.5em;\\n  }\\n}\\n\\n.main {\\n  flex: 3;\\n}\\n\\n.sidebar {\\n  flex: 1;\\n}\\n\\n@font-face {\\n  font-family: 'Lato';\\n  font-style: normal;\\n  font-weight: normal;\\n  src: url(../fonts/lato/Lato-Regular.ttf) format('truetype');\\n}\\n\\n.container {\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n.card {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n  -ms-flex-direction: column;\\n  flex-direction: column;\\n  min-width: 0;\\n  word-wrap: break-word;\\n  background-color: #fff;\\n  background-clip: border-box;\\n  border: 1px solid rgba(0,0,0,.125);\\n}\\n\\n.card-header:first-child {\\n  border-radius: calc(.25rem - 1px) calc(.25rem - 1px) 0 0;\\n}\\n\\n.card-header {\\n  padding: .75rem 1.25rem;\\n  margin-bottom: 0;\\n  background-color: rgba(0,0,0,.03);\\n  border-bottom: 1px solid rgba(0,0,0,.125);\\n}\\n\\n.card-body {\\n  -webkit-box-flex: 1;\\n  -ms-flex: 1 1 auto;\\n  flex: 1 1 auto;\\n  padding: 1.25rem;\\n}\\n\\n.row {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-wrap: wrap;\\n  flex-wrap: wrap;\\n  margin-right: -15px;\\n  margin-left: -15px;\\n}\\n\\n#row1{\\n  flex: 0 0 40%;\\n  padding-top: 20px;\\n}\\n\\n#row2{\\n  flex: 1;\\n  padding-top: 20px;\\n}\\n\\n.col, .col-1, .col-10, .col-11, .col-12, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-auto, .col-lg, .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-auto, .col-md, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-auto, .col-sm, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-auto, .col-xl, .col-xl-1, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-auto {\\n  width: 100%;\\n}\\n\\n.text-center {\\n  text-align: center!important;\\n}\\n\\n.col-5 {\\n  -webkit-box-flex: 0;\\n  -ms-flex: 0 0 41.666667%;\\n  flex: 0 0 41.666667%;\\n  max-width: 41.666667%;\\n}\\n\\n.data-tables {\\n  font-size: 20px;\\n}\\n\\n.card-img-bottom {\\n  background-color: #343A40;\\n}\\n\\n.ml-0, .mx-0 {\\n  margin-left: 0!important;\\n}\\n.card-img-bottom {\\n  width: 100%;\\n  border-bottom-right-radius: calc(.25rem - 1px);\\n  border-bottom-left-radius: calc(.25rem - 1px);\\n}\\n\\n.col {\\n  -ms-flex-preferred-size: 0;\\n  flex-basis: 0;\\n  -webkit-box-flex: 1;\\n  -ms-flex-positive: 1;\\n  flex-grow: 1;\\n  max-width: 100%;\\n}\",this.shadowRoot.prepend(e)}initialize(){if(0!=this.initialized)throw new Error(\"The widget was already initialized!\");this._addHTMLTemplate(),this._render(),this.initialized=!0}start(){if(1!=this.initialized)throw new Error(\"The widget was not initialized!\");this.shadowRoot.getElementById(\"weather-widget-inline\").classList.remove(\"hidden\")}stop(){this._activeScreenId&&this.shadowRoot.getElementById(\"weather-widget-inline\").classList.add(\"hidden\")}destroy(){var e=this.shadowRoot.getElementById(\"weather-widget-inline\");this.shadowRoot.removeChild(e),this.initialized=!1}_addHTMLTemplate(){var e=(new DOMParser).parseFromString('<div id=\"weather-widget-inline\" class=\"wrapper\">\\n    <div class=\"container\">\\n      <div class=\"card mx-auto mb-3 main-card\">\\n\\n        \\x3c!-- HEADER --\\x3e\\n        <h4 class=\"card-header\">\\n          <span id=\"city-now\"></span>\\n          <span id=\"time-now\"></span>\\n        </h4>\\n\\n        \\x3c!-- TODAYS DATA --\\x3e\\n        <div class=\"card-body\">\\n          <div class=\"row\">\\n            <div id=\"row1\" class=\"col-7 text-center\">\\n              <p id=\"desc-now\"></p>\\n              <div class=\"row py-24 justify-content-center\">\\n                <div class=\"col-auto pr-6\">\\n                  <i id=\"icon-now\" class=\"wi wi-day-sunny\"></i>\\n                </div>\\n                <div class=\"col-auto pl-6\">\\n                  <p id=\"temp-now\"></p>\\n                  <p id=\"celsius-now\" class=\"degree degree-active\">°C</p>\\n                  <p class=\"degree mx-1\">|</p>\\n                  <p id=\"fahrenheit-now\" class=\"degree degree-inactive\">°F</p>\\n                </div>\\n              </div>\\n            </div>\\n            <div id=\"row2\" class=\"col-5 data-tables\">\\n              <table class=\"text-center\">\\n                <tr>\\n                  <td><i class=\"wi wi-strong-wind p-6\"></i></td>\\n                  <td class=\"text-left\">Wind: <span id=\"wind-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-humidity p-6\"></i></td>\\n                  <td class=\"text-left\">Humidity: <span id=\"humidity-now\"></span> %</td>\\n                </tr>\\n                <tr class=\"spaceUnder\">\\n                  <td><i class=\"wi wi-cloudy p-6\"></i></td>\\n                  <td class=\"text-left\">Cloudiness: <span id=\"cloudiness-now\"></span> %</td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunrise p-6\"></i></td>\\n                  <td class=\"text-left\">Sunrise: <span id=\"sunrise-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunset p-6\"></i></td>\\n                  <td class=\"text-left\">Sunset: <span id=\"sunset-now\"></span></td>\\n                </tr>\\n              </table>\\n            </div>\\n          </div>\\n        </div>\\n\\n        \\x3c!-- FORECAST --\\x3e\\n        <div class=\"row card-img-bottom ml-0 text-center\">\\n          <div id=\"first-day\" class=\"col forecast-col\">\\n            <h3>MON</h3>\\n            <p><span id=\"min\">1°</span> <span id=\"max\" class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"second-day\" class=\"col forecast-col\">\\n            <h3>TUE</h3>\\n            <p><span id=\"min\">1°</span> <span id=\"max\" class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"third-day\" class=\"col forecast-col\">\\n            <h3>WED</h3>\\n            <p><span id=\"min\">1°</span> <span id=\"max\" class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"forth-day\" class=\"col forecast-col\">\\n            <h3>FRI</h3>\\n            <p><span id=\"min\">1°</span> <span id=\"max\" class=\"blue-text\">-1°</span></p>\\n          </div>\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n</div>',\"text/html\");this.shadowRoot.appendChild(e.body.firstChild)}_render(){console.log(\"render\"),c.updateWeather(m),console.log(\"after updateWeather\"),navigator.geolocation?(navigator.geolocation.getCurrentPosition(this.success.bind(this)),console.log(\"got geolocation\")):(this.error(),console.log(\"didn't got geolocation\")),document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#fahrenheit-now, #celsius-now\").addEventListener(\"click\",(function(){var e=document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\"#fahrenheit-now, #celsius-now\");e.classList.contains(\"degree-inactive\")&&(e.classList.remove(\"degree-inactive\"),document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\".degree-active\").classList.remove(\"degree-active\"),document.querySelector(\"weather-widget-inline\").shadowRoot.querySelector(\".degree-active\").classList.add(\"degree-inactive\"),e.classList.add(\"degree-active\"),m=\"fahrenheit-now\"!==e.id,c.updateWeather(m))}))}handleRequest(e,n){w.fetchCurrentWeather(e,n,m),w.fetchForecast(e,n,m)}success(e){console.log(\"success\"),this.handleRequest(e.coords.latitude,e.coords.longitude)}}$(document).ready((function(){customElements.define(\"weather-widget-inline\",h)}))}]);","extractedComments":[]}