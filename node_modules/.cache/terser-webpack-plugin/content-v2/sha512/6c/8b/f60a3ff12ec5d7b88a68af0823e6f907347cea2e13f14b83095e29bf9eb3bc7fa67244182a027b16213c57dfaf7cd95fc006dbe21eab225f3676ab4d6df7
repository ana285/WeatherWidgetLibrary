{"code":"!function(n){var e={};function t(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:i})},t.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var a in n)t.d(i,a,function(e){return n[e]}.bind(null,a));return i},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,\"a\",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p=\"\",t(t.s=0)}([function(n,e,t){n.exports=t(1)},function(n,e,t){\"use strict\";t.r(e);var i=\"b10e79705c099860a980640a091a6fcf\";const a=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];let o={city:\"New York\",cloudiness:50,country:\"US\",desc:\"scattered clouds\",humidity:50,sunrise:1519626034,sunset:1519664697,temp:32,type:\"03d\",wind:10};const s={tempNow:$(\"#temp-now\"),iconNow:$(\"#icon-now\"),descNow:$(\"#desc-now\"),cityNow:$(\"#city-now\"),windNow:$(\"#wind-now\"),timeNow:$(\"#time-now\"),humidityNow:$(\"#humidity-now\"),cloudinessNow:$(\"#cloudiness-now\"),sunriseNow:$(\"#sunrise-now\"),sunsetNow:$(\"#sunset-now\")};function r(n){var e,t=n?l(o.temp).toFixed(0):o.temp.toFixed(0),i=n?(e=o.wind,1.609344*e).toFixed(0)+\" km/h\":o.wind.toFixed(0)+\" mph\",r=new Date,d=a[r.getDay()]+\", \"+c(r,n),u=c(new Date(1e3*o.sunrise),n),p=c(new Date(1e3*o.sunset),n);s.tempNow.text(t),s.iconNow.addClass(function(n){switch(n){case\"01d\":return\"wi-day-sunny\";case\"02d\":return\"wi-night-cloudy\";case\"03d\":case\"04d\":return\"wi-cloudy\";case\"09d\":return\"wi-day-showers\";case\"10d\":return\"wi-day-rain\";case\"11d\":return\"wi-thunderstorm\";case\"13d\":return\"wi-snow\";case\"50d\":return\"wi-fog\";case\"01n\":return\"wi-night-clear\";case\"02n\":return\"wi-day-cloudy\";case\"03n\":case\"04n\":return\"wi-cloudy\";case\"09n\":return\"wi-night-showers\";case\"10n\":return\"wi-night-rain\";case\"11n\":return\"wi-thunderstorm\";case\"13n\":return\"wi-snow\";case\"50n\":return\"wi-fog\"}}(o.type)),s.descNow.text(o.desc),s.cityNow.text(o.city),s.windNow.text(i),s.timeNow.text(d),s.humidityNow.text(o.humidity),s.cloudinessNow.text(o.cloudiness),s.sunriseNow.text(u),s.sunsetNow.text(p)}function d(n,e,t,i){var a=i?l(t[e].min).toFixed(0):t[e].min.toFixed(0),o=i?l(t[e].max).toFixed(0):t[e].max.toFixed(0);$(n+\" > h3\").text(t[e].weekday),$(n+\" span\").eq(0).text(o),$(n+\" span\").eq(1).text(a)}function c(n,e){var t,i;return e?(t=n.getHours())+\":\"+(n.getMinutes()>=10?n.getMinutes():\"0\"+n.getMinutes()):(i=\"AM\",(t=n.getHours())>=12&&(t>12&&(t-=12),i=\"PM\"),t+\":\"+(n.getMinutes()>=10?n.getMinutes():\"0\"+n.getMinutes())+\" \"+i)}function l(n){return 5*(n-32)/9}var u={setCurrentWeather:function(n,e){o=n,r(e)},setForecast:function(n,e){this.forecast=n,d(\"#first-day\",0,n,e),d(\"#second-day\",1,n,e),d(\"#third-day\",2,n,e),d(\"#forth-day\",3,n,e)},updateWeather:r};const p=[\"SUN\",\"MON\",\"TUE\",\"WED\",\"THU\",\"FRI\",\"SAT\"];function w(n,e){0===n.status?alert(\"Network error. Check your connection.\"):404==n.status?alert(\"Requested page not found [404].\"):500==n.status?alert(\"Internal Server Error [500].\"):alert(\"Error [\"+n.status+\"].\")}var h={fetchCurrentWeather:function(n,e,t){let a=null;$.getJSON(function(n,e){return\"https://api.openweathermap.org/data/2.5/weather?lat=\"+n+\"&lon=\"+e+\"&units=imperial&APPID=\"+i}(n,e),(function(n){a={city:n.name,temp:n.main.temp,desc:n.weather[0].description,type:n.weather[0].icon,wind:n.wind.speed,humidity:n.main.humidity,cloudiness:n.clouds.all,sunrise:n.sys.sunrise,sunset:n.sys.sunset,country:n.sys.country}})).done(()=>u.setCurrentWeather(a,t)).fail((n,e)=>w(jqXHR,e))},fetchForecast:function(n,e,t){let a=[];$.getJSON(function(n,e){return\"https://api.openweathermap.org/data/2.5/forecast?lat=\"+n+\"&lon=\"+e+\"&units=imperial&APPID=\"+i}(n,e),(function(n){var e,t=\"\",i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=(new Date).getDay();n.list.forEach((function(n){e=new Date(1e3*n.dt),s!=e.getDay()&&(t!=p[e.getDay()]&&\"\"!=t&&(a.push({weekday:t,min:i,max:o}),i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY),n.main.temp<i&&(i=n.main.temp),n.main.temp>o&&(o=n.main.temp),t=p[e.getDay()])})),a.length<4&&a.push({weekday:t,min:i,max:o})})).done(()=>u.setForecast(a,t)).fail((n,e)=>w(jqXHR,e))}};let f=!0;class m extends HTMLElement{constructor(){super(),this.attachShadow({mode:\"open\"}),this.initialized=!1}connectedCallback(){var n=document.createElement(\"style\");n.innerHTML=\"body {\\n  background-color: #EFF1F2;\\n  font-family: Lato, Arial;\\n  color: #343A40;\\n}\\n\\nh3 {\\n  font-size: 22px;\\n  margin-bottom: 12px;\\n}\\n\\n.wrapper{\\n  min-height:100%;\\n  position:relative;\\n} \\n\\np {\\n  margin-bottom: 0px;\\n  font-size: 22px;\\n}\\n\\n.container {\\n  padding-top: 10rem; \\n  padding-bottom: 10rem;\\n}\\n\\n/* Card Header */\\n#time-now {\\n  float: right;\\n  font-size: 22px;\\n}\\n\\n/* Card Body */\\n.main-card {\\n  width: 600px;\\n  box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.2);\\n}\\n\\n.blue-text {\\n  color: #1496BB;\\n}\\n\\n.degree-active {\\n  font-size: 24px;\\n}\\n\\n.degree-inactive {\\n  font-size: 20px;\\n  color: #1496BB;\\n  cursor: pointer;\\n}\\n\\n.degree {\\n  display: inline-block;\\n  vertical-align: top;\\n  font-size: 24px;\\n  margin-top: 12px;\\n}\\n\\n#desc-now {\\n  text-transform: capitalize;\\n  font-size: 20px;\\n}\\n\\n#icon-now {\\n  font-size: 72px;\\n  margin-right: 12px;\\n  float: right;\\n  line-height: 86px;\\n}\\n\\n#temp-now {\\n  display: inline;\\n  font-size: 72px;\\n}\\n\\n.data-tables {\\n  font-size: 20px;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\ntr.spaceUnder>td {\\n  padding-bottom: 1em;\\n}\\n\\n/* Forecast */\\n#first-day {\\n  border-bottom-left-radius: 3px;\\n}\\n\\n#forth-day {\\n  border-bottom-right-radius: 3px;\\n}\\n\\n.forecast-col {\\n  color: white;\\n  padding: 12px;\\n}\\n\\n.card-img-bottom {\\n  background-color: #343A40;\\n}\\n\\n#attribution-text {\\n  font-size: 14px;\\n}\\n\\n/* Padding styles */\\n.p-6 { padding: 6px; }\\n.pr-6 { padding-right: 6px; }\\n.pl-6 { padding-left: 6px; }\\n.py-24 { padding-bottom: 24px; padding-top: 24px; }\\n\\n/* Footer */\\nhtml, body {\\n  height: 100%;\\n} \\n\\n#weather-widget-inline{\\n  min-height:100%;\\n  position:relative;\\n} \\n\\nfooter {\\n  width: 100%;\\n  height: 42px;\\n  position: absolute;\\n  bottom: 0;\\n  text-align: center;\\n  background-color: rgba(0, 0, 0, 0.45);\\n  font-family: Lato, sans-serif;\\n  font-size: 15px;\\n} \\n\\nfooter a {\\n  line-height: 42px;\\n  color: white;\\n  text-decoration: none;\\n} \\n\\nfooter a:focus, footer a:hover, footer a:visited {\\n  text-decoration: none;\\n  color: white;\\n} \\n\\nfooter span {\\n  vertical-align: middle;\\n} \\n\\n.i-big {\\n  vertical-align: middle;\\n  font-size: 18px;\\n}\\n\\n/* Responsive: */\\n\\n@media only screen and (min-width: 640px) {\\n  .layout {\\n    display: flex;\\n  }\\n}\\n\\n@media only screen and (min-width: 500px) {\\n  h1 {\\n    font-size: 3.5em;\\n  }\\n}\\n\\n.main {\\n  flex: 3;\\n}\\n\\n.sidebar {\\n  flex: 1;\\n}\\n\\n@font-face {\\n  font-family: 'Lato';\\n  font-style: normal;\\n  font-weight: normal;\\n  src: url(../fonts/lato/Lato-Regular.ttf) format('truetype');\\n}\\n\\n\",this.shadowRoot.prepend(n)}initialize(){if(0!=this.initialized)throw new Error(\"The widget was already initialized!\");this._addHTMLTemplate(),this._render(),this.initialized=!0}start(){if(1!=this.initialized)throw new Error(\"The widget was not initialized!\");this.shadowRoot.getElementById(\"weather-widget-inline\").classList.remove(\"hidden\")}stop(){this._activeScreenId&&this.shadowRoot.getElementById(\"weather-widget-inline\").classList.add(\"hidden\")}destroy(){var n=this.shadowRoot.getElementById(\"weather-widget-inline\");this.shadowRoot.removeChild(n),this.initialized=!1}_addHTMLTemplate(){var n=(new DOMParser).parseFromString('<div id=\"weather-widget-inline\" class=\"wrapper\">\\n    <div class=\"container\">\\n      <div class=\"card mx-auto mb-3 main-card\">\\n\\n        \\x3c!-- HEADER --\\x3e\\n        <h4 class=\"card-header\">\\n          <span id=\"city-now\"></span>\\n          <span id=\"time-now\"></span>\\n        </h4>\\n\\n        \\x3c!-- TODAYS DATA --\\x3e\\n        <div class=\"card-body\">\\n          <div class=\"row\">\\n            <div class=\"col-7 text-center\">\\n              <p id=\"desc-now\"></p>\\n              <div class=\"row py-24 justify-content-center\">\\n                <div class=\"col-auto pr-6\">\\n                  <i id=\"icon-now\" class=\"wi wi-day-sunny\"></i>\\n                </div>\\n                <div class=\"col-auto pl-6\">\\n                  <p id=\"temp-now\"></p>\\n                  <p id=\"celsius-now\" class=\"degree degree-active\">°C</p>\\n                  <p class=\"degree mx-1\">|</p>\\n                  <p id=\"fahrenheit-now\" class=\"degree degree-inactive\">°F</p>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"col-5 data-tables\">\\n              <table class=\"text-center\">\\n                <tr>\\n                  <td><i class=\"wi wi-strong-wind p-6\"></i></td>\\n                  <td class=\"text-left\">Wind: <span id=\"wind-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-humidity p-6\"></i></td>\\n                  <td class=\"text-left\">Humidity: <span id=\"humidity-now\"></span> %</td>\\n                </tr>\\n                <tr class=\"spaceUnder\">\\n                  <td><i class=\"wi wi-cloudy p-6\"></i></td>\\n                  <td class=\"text-left\">Cloudiness: <span id=\"cloudiness-now\"></span> %</td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunrise p-6\"></i></td>\\n                  <td class=\"text-left\">Sunrise: <span id=\"sunrise-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunset p-6\"></i></td>\\n                  <td class=\"text-left\">Sunset: <span id=\"sunset-now\"></span></td>\\n                </tr>\\n              </table>\\n            </div>\\n          </div>\\n        </div>\\n\\n        \\x3c!-- FORECAST --\\x3e\\n        <div class=\"row card-img-bottom ml-0 text-center\">\\n          <div id=\"first-day\" class=\"col forecast-col\">\\n            <h3>MON</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"second-day\" class=\"col forecast-col\">\\n            <h3>TUE</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"third-day\" class=\"col forecast-col\">\\n            <h3>WED</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"forth-day\" class=\"col forecast-col\">\\n            <h3>FRI</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n</div>',\"text/html\");this.shadowRoot.appendChild(n.body.firstChild)}_render(){console.log(\"render\"),u.updateWeather(f),navigator.geolocation?navigator.geolocation.getCurrentPosition(this.success,this.error):this.error(),$(\"#fahrenheit-now, #celsius-now\").on(\"click\",(function(){$(this).hasClass(\"degree-inactive\")&&($(this).removeClass(\"degree-inactive\"),$(\".degree-active\").removeClass(\"degree-active\").addClass(\"degree-inactive\"),$(this).addClass(\"degree-active\"),f=!$(this).is(\"#fahrenheit-now\"),u.updateWeather(f))}))}error(){alert(\"Sorry, no position available.\")}success(n){this.handleRequest(n.coords.latitude,n.coords.longitude)}handleRequest(n,e){h.fetchCurrentWeather(n,e,f),h.fetchForecast(n,e,f)}}$(document).ready((function(){customElements.define(\"weather-widget-inline\",m)}))}]);","extractedComments":[]}