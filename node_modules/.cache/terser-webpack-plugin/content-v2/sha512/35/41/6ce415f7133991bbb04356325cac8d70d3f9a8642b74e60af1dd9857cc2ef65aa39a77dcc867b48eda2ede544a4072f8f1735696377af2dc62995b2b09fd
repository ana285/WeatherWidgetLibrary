{"code":"!function(n){var e={};function t(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:o})},t.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var i in n)t.d(o,i,function(e){return n[e]}.bind(null,i));return o},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,\"a\",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p=\"\",t(t.s=0)}([function(n,e,t){n.exports=t(1)},function(n,e,t){\"use strict\";t.r(e);var o=\"b10e79705c099860a980640a091a6fcf\";const i=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];let a={city:\"New York\",cloudiness:50,country:\"US\",desc:\"scattered clouds\",humidity:50,sunrise:1519626034,sunset:1519664697,temp:32,type:\"03d\",wind:10};const r={tempNow:$(\"#temp-now\"),iconNow:$(\"#icon-now\"),descNow:$(\"#desc-now\"),cityNow:$(\"#city-now\"),windNow:$(\"#wind-now\"),timeNow:$(\"#time-now\"),humidityNow:$(\"#humidity-now\"),cloudinessNow:$(\"#cloudiness-now\"),sunriseNow:$(\"#sunrise-now\"),sunsetNow:$(\"#sunset-now\")};function s(n){var e,t=n?c(a.temp).toFixed(0):a.temp.toFixed(0),o=n?(e=a.wind,1.609344*e).toFixed(0)+\" km/h\":a.wind.toFixed(0)+\" mph\",s=new Date,d=i[s.getDay()]+\", \"+l(s,n),p=l(new Date(1e3*a.sunrise),n),u=l(new Date(1e3*a.sunset),n);r.tempNow.text(t),r.iconNow.addClass(function(n){switch(n){case\"01d\":return\"wi-day-sunny\";case\"02d\":return\"wi-night-cloudy\";case\"03d\":case\"04d\":return\"wi-cloudy\";case\"09d\":return\"wi-day-showers\";case\"10d\":return\"wi-day-rain\";case\"11d\":return\"wi-thunderstorm\";case\"13d\":return\"wi-snow\";case\"50d\":return\"wi-fog\";case\"01n\":return\"wi-night-clear\";case\"02n\":return\"wi-day-cloudy\";case\"03n\":case\"04n\":return\"wi-cloudy\";case\"09n\":return\"wi-night-showers\";case\"10n\":return\"wi-night-rain\";case\"11n\":return\"wi-thunderstorm\";case\"13n\":return\"wi-snow\";case\"50n\":return\"wi-fog\"}}(a.type)),r.descNow.text(a.desc),r.cityNow.text(a.city),r.windNow.text(o),r.timeNow.text(d),r.humidityNow.text(a.humidity),r.cloudinessNow.text(a.cloudiness),r.sunriseNow.text(p),r.sunsetNow.text(u),console.log(r)}function d(n,e,t,o){var i=o?c(t[e].min).toFixed(0):t[e].min.toFixed(0),a=o?c(t[e].max).toFixed(0):t[e].max.toFixed(0);$(n+\" > h3\").text(t[e].weekday),$(n+\" span\").eq(0).text(a),$(n+\" span\").eq(1).text(i)}function l(n,e){var t,o;return e?(t=n.getHours())+\":\"+(n.getMinutes()>=10?n.getMinutes():\"0\"+n.getMinutes()):(o=\"AM\",(t=n.getHours())>=12&&(t>12&&(t-=12),o=\"PM\"),t+\":\"+(n.getMinutes()>=10?n.getMinutes():\"0\"+n.getMinutes())+\" \"+o)}function c(n){return 5*(n-32)/9}var p={setCurrentWeather:function(n,e){a=n,s(e)},setForecast:function(n,e){this.forecast=n,d(\"#first-day\",0,n,e),d(\"#second-day\",1,n,e),d(\"#third-day\",2,n,e),d(\"#forth-day\",3,n,e)},updateWeather:s};const u=[\"SUN\",\"MON\",\"TUE\",\"WED\",\"THU\",\"FRI\",\"SAT\"];function m(n,e){0===n.status?alert(\"Network error. Check your connection.\"):404==n.status?alert(\"Requested page not found [404].\"):500==n.status?alert(\"Internal Server Error [500].\"):alert(\"Error [\"+n.status+\"].\")}var w={fetchCurrentWeather:function(n,e,t){let i=null;$.getJSON(function(n,e){return\"https://api.openweathermap.org/data/2.5/weather?lat=\"+n+\"&lon=\"+e+\"&units=imperial&APPID=\"+o}(n,e),(function(n){i={city:n.name,temp:n.main.temp,desc:n.weather[0].description,type:n.weather[0].icon,wind:n.wind.speed,humidity:n.main.humidity,cloudiness:n.clouds.all,sunrise:n.sys.sunrise,sunset:n.sys.sunset,country:n.sys.country}})).done(()=>p.setCurrentWeather(i,t)).fail((n,e)=>m(jqXHR,e))},fetchForecast:function(n,e,t){let i=[];$.getJSON(function(n,e){return\"https://api.openweathermap.org/data/2.5/forecast?lat=\"+n+\"&lon=\"+e+\"&units=imperial&APPID=\"+o}(n,e),(function(n){var e,t=\"\",o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=(new Date).getDay();n.list.forEach((function(n){e=new Date(1e3*n.dt),r!=e.getDay()&&(t!=u[e.getDay()]&&\"\"!=t&&(i.push({weekday:t,min:o,max:a}),o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY),n.main.temp<o&&(o=n.main.temp),n.main.temp>a&&(a=n.main.temp),t=u[e.getDay()])})),i.length<4&&i.push({weekday:t,min:o,max:a})})).done(()=>p.setForecast(i,t)).fail((n,e)=>m(jqXHR,e))}};let h=!0;class f extends HTMLElement{constructor(){super(),this.attachShadow({mode:\"open\"}),this.initialized=!1}connectedCallback(){var n=document.createElement(\"style\");n.innerHTML=\"body {\\n  background-color: #EFF1F2;\\n  font-family: Lato, Arial;\\n  color: #343A40;\\n}\\n\\nh3 {\\n  font-size: 22px;\\n  margin-bottom: 12px;\\n}\\n\\np {\\n  margin-bottom: 0px;\\n  font-size: 22px;\\n}\\n\\n/* Card Header */\\n#time-now {\\n  float: right;\\n  font-size: 22px;\\n}\\n\\n/* Card Body */\\n.main-card {\\n  box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.2);\\n}\\n\\n.blue-text {\\n  color: #1496BB;\\n}\\n\\n.degree-active {\\n  font-size: 24px;\\n}\\n\\n.degree-inactive {\\n  font-size: 20px;\\n  color: #1496BB;\\n  cursor: pointer;\\n}\\n\\n.degree {\\n  display: inline-block;\\n  vertical-align: top;\\n  font-size: 24px;\\n  margin-top: 12px;\\n}\\n\\n#desc-now {\\n  text-transform: capitalize;\\n  font-size: 20px;\\n}\\n\\n#icon-now {\\n  font-size: 72px;\\n  margin-right: 12px;\\n  float: right;\\n  line-height: 86px;\\n}\\n\\n#temp-now {\\n  display: inline;\\n  font-size: 72px;\\n}\\n\\n.data-tables {\\n  font-size: 20px;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\ntr.spaceUnder>td {\\n  padding-bottom: 1em;\\n}\\n\\n/* Forecast */\\n#first-day {\\n  border-bottom-left-radius: 3px;\\n}\\n\\n#forth-day {\\n  border-bottom-right-radius: 3px;\\n}\\n\\n.forecast-col {\\n  color: white;\\n  padding: 12px;\\n}\\n\\n.card-img-bottom {\\n  background-color: #343A40;\\n}\\n\\n#attribution-text {\\n  font-size: 14px;\\n}\\n\\n/* Padding styles */\\n.p-6 { padding: 6px; }\\n.pr-6 { padding-right: 6px; }\\n.pl-6 { padding-left: 6px; }\\n.py-24 { padding-bottom: 24px; padding-top: 24px; }\\n\\n/* Footer */\\nhtml, body {\\n  height: 100%;\\n} \\n\\n#weather-widget-inline{\\n  min-height:100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n} \\n\\nfooter {\\n  width: 100%;\\n  height: 42px;\\n  position: absolute;\\n  bottom: 0;\\n  text-align: center;\\n  background-color: rgba(0, 0, 0, 0.45);\\n  font-family: Lato, sans-serif;\\n  font-size: 15px;\\n} \\n\\nfooter a {\\n  line-height: 42px;\\n  color: white;\\n  text-decoration: none;\\n} \\n\\nfooter a:focus, footer a:hover, footer a:visited {\\n  text-decoration: none;\\n  color: white;\\n} \\n\\nfooter span {\\n  vertical-align: middle;\\n} \\n\\n.i-big {\\n  vertical-align: middle;\\n  font-size: 18px;\\n}\\n\\n/* Responsive: */\\n\\n@media only screen and (min-width: 640px) {\\n  .layout {\\n    display: flex;\\n  }\\n}\\n\\n@media only screen and (min-width: 500px) {\\n  h1 {\\n    font-size: 3.5em;\\n  }\\n}\\n\\n.main {\\n  flex: 3;\\n}\\n\\n.sidebar {\\n  flex: 1;\\n}\\n\\n@font-face {\\n  font-family: 'Lato';\\n  font-style: normal;\\n  font-weight: normal;\\n  src: url(../fonts/lato/Lato-Regular.ttf) format('truetype');\\n}\\n\\n.container {\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n.card {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n  -ms-flex-direction: column;\\n  flex-direction: column;\\n  min-width: 0;\\n  word-wrap: break-word;\\n  background-color: #fff;\\n  background-clip: border-box;\\n  border: 1px solid rgba(0,0,0,.125);\\n}\\n\\n.card-header:first-child {\\n  border-radius: calc(.25rem - 1px) calc(.25rem - 1px) 0 0;\\n}\\n\\n.card-header {\\n  padding: .75rem 1.25rem;\\n  margin-bottom: 0;\\n  background-color: rgba(0,0,0,.03);\\n  border-bottom: 1px solid rgba(0,0,0,.125);\\n}\\n\\n.card-body {\\n  -webkit-box-flex: 1;\\n  -ms-flex: 1 1 auto;\\n  flex: 1 1 auto;\\n  padding: 1.25rem;\\n}\\n\\n.row {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-wrap: wrap;\\n  flex-wrap: wrap;\\n  margin-right: -15px;\\n  margin-left: -15px;\\n}\\n\\n#row1{\\n  flex: 0 0 40%;\\n  padding-top: 20px;\\n}\\n\\n#row2{\\n  flex: 1;\\n  padding-top: 20px;\\n}\\n\\n.col, .col-1, .col-10, .col-11, .col-12, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-auto, .col-lg, .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-auto, .col-md, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-auto, .col-sm, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-auto, .col-xl, .col-xl-1, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-auto {\\n  width: 100%;\\n}\\n\\n.text-center {\\n  text-align: center!important;\\n}\\n\\n.col-5 {\\n  -webkit-box-flex: 0;\\n  -ms-flex: 0 0 41.666667%;\\n  flex: 0 0 41.666667%;\\n  max-width: 41.666667%;\\n}\\n\\n.data-tables {\\n  font-size: 20px;\\n}\\n\\n.card-img-bottom {\\n  background-color: #343A40;\\n}\\n\\n.ml-0, .mx-0 {\\n  margin-left: 0!important;\\n}\\n.card-img-bottom {\\n  width: 100%;\\n  border-bottom-right-radius: calc(.25rem - 1px);\\n  border-bottom-left-radius: calc(.25rem - 1px);\\n}\\n\\n.col {\\n  -ms-flex-preferred-size: 0;\\n  flex-basis: 0;\\n  -webkit-box-flex: 1;\\n  -ms-flex-positive: 1;\\n  flex-grow: 1;\\n  max-width: 100%;\\n}\",this.shadowRoot.prepend(n)}initialize(){if(0!=this.initialized)throw new Error(\"The widget was already initialized!\");this._addHTMLTemplate(),this._render(),this.initialized=!0}start(){if(1!=this.initialized)throw new Error(\"The widget was not initialized!\");this.shadowRoot.getElementById(\"weather-widget-inline\").classList.remove(\"hidden\")}stop(){this._activeScreenId&&this.shadowRoot.getElementById(\"weather-widget-inline\").classList.add(\"hidden\")}destroy(){var n=this.shadowRoot.getElementById(\"weather-widget-inline\");this.shadowRoot.removeChild(n),this.initialized=!1}_addHTMLTemplate(){var n=(new DOMParser).parseFromString('<div id=\"weather-widget-inline\" class=\"wrapper\">\\n    <div class=\"container\">\\n      <div class=\"card mx-auto mb-3 main-card\">\\n\\n        \\x3c!-- HEADER --\\x3e\\n        <h4 class=\"card-header\">\\n          <span id=\"city-now\"></span>\\n          <span id=\"time-now\"></span>\\n        </h4>\\n\\n        \\x3c!-- TODAYS DATA --\\x3e\\n        <div class=\"card-body\">\\n          <div class=\"row\">\\n            <div id=\"row1\" class=\"col-7 text-center\">\\n              <p id=\"desc-now\"></p>\\n              <div class=\"row py-24 justify-content-center\">\\n                <div class=\"col-auto pr-6\">\\n                  <i id=\"icon-now\" class=\"wi wi-day-sunny\"></i>\\n                </div>\\n                <div class=\"col-auto pl-6\">\\n                  <p id=\"temp-now\"></p>\\n                  <p id=\"celsius-now\" class=\"degree degree-active\">°C</p>\\n                  <p class=\"degree mx-1\">|</p>\\n                  <p id=\"fahrenheit-now\" class=\"degree degree-inactive\">°F</p>\\n                </div>\\n              </div>\\n            </div>\\n            <div id=\"row2\" class=\"col-5 data-tables\">\\n              <table class=\"text-center\">\\n                <tr>\\n                  <td><i class=\"wi wi-strong-wind p-6\"></i></td>\\n                  <td class=\"text-left\">Wind: <span id=\"wind-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-humidity p-6\"></i></td>\\n                  <td class=\"text-left\">Humidity: <span id=\"humidity-now\"></span> %</td>\\n                </tr>\\n                <tr class=\"spaceUnder\">\\n                  <td><i class=\"wi wi-cloudy p-6\"></i></td>\\n                  <td class=\"text-left\">Cloudiness: <span id=\"cloudiness-now\"></span> %</td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunrise p-6\"></i></td>\\n                  <td class=\"text-left\">Sunrise: <span id=\"sunrise-now\"></span></td>\\n                </tr>\\n                <tr>\\n                  <td><i class=\"wi wi-sunset p-6\"></i></td>\\n                  <td class=\"text-left\">Sunset: <span id=\"sunset-now\"></span></td>\\n                </tr>\\n              </table>\\n            </div>\\n          </div>\\n        </div>\\n\\n        \\x3c!-- FORECAST --\\x3e\\n        <div class=\"row card-img-bottom ml-0 text-center\">\\n          <div id=\"first-day\" class=\"col forecast-col\">\\n            <h3>MON</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"second-day\" class=\"col forecast-col\">\\n            <h3>TUE</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"third-day\" class=\"col forecast-col\">\\n            <h3>WED</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n          <div id=\"forth-day\" class=\"col forecast-col\">\\n            <h3>FRI</h3>\\n            <p><span>1°</span> <span class=\"blue-text\">-1°</span></p>\\n          </div>\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n</div>',\"text/html\");this.shadowRoot.appendChild(n.body.firstChild)}_render(){console.log(\"render\"),p.updateWeather(h),console.log(\"after updateWeather\"),navigator.geolocation?(navigator.geolocation.getCurrentPosition(this.success,this.error),console.log(\"got geolocation\")):(this.error(),console.log(\"didn't got geolocation\")),$(\"#fahrenheit-now, #celsius-now\").on(\"click\",(function(){$(this).hasClass(\"degree-inactive\")&&($(this).removeClass(\"degree-inactive\"),$(\".degree-active\").removeClass(\"degree-active\").addClass(\"degree-inactive\"),$(this).addClass(\"degree-active\"),h=!$(this).is(\"#fahrenheit-now\"),p.updateWeather(h))}))}error(){alert(\"Sorry, no position available.\")}success(n){this.handleRequest(n.coords.latitude,n.coords.longitude)}handleRequest(n,e){w.fetchCurrentWeather(n,e,h),w.fetchForecast(n,e,h)}}$(document).ready((function(){customElements.define(\"weather-widget-inline\",f)}))}]);","extractedComments":[]}